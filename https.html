<html>
	<body>
		<h1>HTTPS and WS (not secure) test</h1>
		<input type="text" id="textInput"><button id="submit">Send</button>
		<div id="terminal"></div>

		<script>
			function term(str) {
				document.getElementById('terminal').innerHTML += str + '<br>';
			}

			const socket = new WebSocket('ws://localhost:8080');
			
			// connection opened
			socket.addEventListener('open', event => {
				socket.send('Hello Server!');
			});

			// listen for messages
			socket.addEventListener('message', event => {
				term(`Message from server: ${event.data}`);
			});

			document.getElementById('submit').onclick = () => {
				$in = document.getElementById('textInput');
				socket.send($in.value);
				$in.value = '';
			};
		</script>
	</body>
</html>
